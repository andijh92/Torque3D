<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Torque3D - Engine Reference: _StringTable Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Torque3D - Engine Reference
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class___string_table-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">_StringTable Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="string_table_8h_source.html">stringTable.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a65e2663c5b9444db16fdd67e280d6b56"><td class="memItemLeft" align="right" valign="top">StringTableEntry&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class___string_table.html#a65e2663c5b9444db16fdd67e280d6b56">insert</a> (const char *string, bool caseSens=false)</td></tr>
<tr class="separator:a65e2663c5b9444db16fdd67e280d6b56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53499a34fd1258185fa45df7bacb2fe8"><td class="memItemLeft" align="right" valign="top">StringTableEntry&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class___string_table.html#a53499a34fd1258185fa45df7bacb2fe8">insertn</a> (const char *string, S32 len, bool caseSens=false)</td></tr>
<tr class="separator:a53499a34fd1258185fa45df7bacb2fe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8a9281e3f1d81500be1c6c3f09427ab"><td class="memItemLeft" align="right" valign="top">StringTableEntry&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class___string_table.html#ac8a9281e3f1d81500be1c6c3f09427ab">lookup</a> (const char *string, bool caseSens=false)</td></tr>
<tr class="separator:ac8a9281e3f1d81500be1c6c3f09427ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42cab8aaa87e586387c99b27daff3f18"><td class="memItemLeft" align="right" valign="top">StringTableEntry&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class___string_table.html#a42cab8aaa87e586387c99b27daff3f18">lookupn</a> (const char *string, S32 len, bool caseSens=false)</td></tr>
<tr class="separator:a42cab8aaa87e586387c99b27daff3f18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a043299e8cf814d9f0f2b88fa9d964e2c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class___string_table.html#a043299e8cf814d9f0f2b88fa9d964e2c">resize</a> (const U32 newSize)</td></tr>
<tr class="separator:a043299e8cf814d9f0f2b88fa9d964e2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abacc952dc8f532ab8d754e817f965586"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abacc952dc8f532ab8d754e817f965586"></a>
StringTableEntry&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class___string_table.html#abacc952dc8f532ab8d754e817f965586">EmptyString</a> () const </td></tr>
<tr class="memdesc:abacc952dc8f532ab8d754e817f965586"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a zero length string. <br /></td></tr>
<tr class="separator:abacc952dc8f532ab8d754e817f965586"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a1ca8e679c2c2f0f21ad5a94eb02c379d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class___string_table.html#a1ca8e679c2c2f0f21ad5a94eb02c379d">create</a> ()</td></tr>
<tr class="separator:a1ca8e679c2c2f0f21ad5a94eb02c379d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5b0872960fbba4c247aa268cf564596"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class___string_table.html#ab5b0872960fbba4c247aa268cf564596">destroy</a> ()</td></tr>
<tr class="separator:ab5b0872960fbba4c247aa268cf564596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77f5398b46a3716e384f76b21990304e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a77f5398b46a3716e384f76b21990304e"></a>
static U32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class___string_table.html#a77f5398b46a3716e384f76b21990304e">hashString</a> (const char *in_pString)</td></tr>
<tr class="memdesc:a77f5398b46a3716e384f76b21990304e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hash a string into a U32. <br /></td></tr>
<tr class="separator:a77f5398b46a3716e384f76b21990304e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fce37b83a2b48ccc2406aa87e006654"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0fce37b83a2b48ccc2406aa87e006654"></a>
static U32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class___string_table.html#a0fce37b83a2b48ccc2406aa87e006654">hashStringn</a> (const char *in_pString, S32 len)</td></tr>
<tr class="memdesc:a0fce37b83a2b48ccc2406aa87e006654"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hash a string of given length into a U32. <br /></td></tr>
<tr class="separator:a0fce37b83a2b48ccc2406aa87e006654"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Implementation details</h2></td></tr>
<tr class="memitem:ac025cf34a679ab92396ab9bb94157297"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac025cf34a679ab92396ab9bb94157297"></a>
static const U32&#160;</td><td class="memItemRight" valign="bottom"><b>csm_stInitSize</b> = 29</td></tr>
<tr class="separator:ac025cf34a679ab92396ab9bb94157297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8c35cd443b198759821d8b9e9e12a4a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa8c35cd443b198759821d8b9e9e12a4a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_StringTable</b> ()</td></tr>
<tr class="separator:aa8c35cd443b198759821d8b9e9e12a4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15ad0ec849b2130bed5942db913894c6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a15ad0ec849b2130bed5942db913894c6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>~_StringTable</b> ()</td></tr>
<tr class="separator:a15ad0ec849b2130bed5942db913894c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A global table for the hashing and tracking of strings.</p>
<p>Only one <a class="el" href="class___string_table.html">_StringTable</a> is ever instantiated in Torque. It is accessible via the global variable StringTable.</p>
<p>StringTable is used to manage strings in Torque. It performs the following tasks:</p><ul>
<li>Ensures that only one pointer is ever used for a given string (through <a class="el" href="class___string_table.html#a65e2663c5b9444db16fdd67e280d6b56">insert()</a>).</li>
<li>Allows the lookup of a string in the table.</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">// Adding a string to the StringTable.</span></div><div class="line">StringTableEntry mRoot;</div><div class="line">mRoot = StringTable-&gt;insert(root);</div><div class="line"></div><div class="line"><span class="comment">// Looking up a string in the StringTable.</span></div><div class="line">StringTableEntry stName = StringTable-&gt;lookupn(name, len);</div><div class="line"></div><div class="line"><span class="comment">// Comparing two strings in the StringTable (see below).</span></div><div class="line"><span class="keywordflow">if</span>(mRoot == stName) <a class="code" href="namespace_con.html#aec1d1453e54169b02fb4d4ff1970d422">Con::printf</a>(<span class="stringliteral">&quot;These strings are equal!&quot;</span>);</div></div><!-- fragment --><p><b>But why is this useful, you ask?</b> Because every string that's run through the StringTable is stored once and only once, every string has one and only one pointer mapped to it. As a pointer is an integer value (usually an unsigned int), so we can do several neat things:</p><ul>
<li>StringTableEntrys can be compared directly for equality, instead of using the time-consuming dStrcmp() or dStricmp() function.</li>
<li>For things like object names, we can avoid storing multiple copies of the string containing the name. The StringTable ensures that we only ever store one copy.</li>
<li>When we're doing lookups by name (for instances, of resources), we can determine if the object is even registered in the system by looking up its name in the StringTable. Then, we can use the pointer as a hash key.</li>
</ul>
<p>The scripting engine and the resource manager are the primary users of the StringTable.</p>
<dl class="section note"><dt>Note</dt><dd>Be aware that the StringTable NEVER DEALLOCATES memory, so be careful when you add strings to it. If you carelessly add many strings, you will end up wasting space. </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1ca8e679c2c2f0f21ad5a94eb02c379d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void _StringTable::create </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initialize StringTable.</p>
<p>This is called at program start to initialize the StringTable global. </p>

</div>
</div>
<a class="anchor" id="ab5b0872960fbba4c247aa268cf564596"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void _StringTable::destroy </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destroy the StringTable</p>
<p>This is called at program end to destroy the StringTable global. </p>

</div>
</div>
<a class="anchor" id="a65e2663c5b9444db16fdd67e280d6b56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StringTableEntry _StringTable::insert </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>caseSens</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a pointer from the string table, adding the string to the table if it was not already present.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td><a class="el" href="class_string.html" title="The String class represents a 0-terminated array of characters. ">String</a> to check in the table (and add). </td></tr>
    <tr><td class="paramname">caseSens</td><td>Determines whether case matters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a53499a34fd1258185fa45df7bacb2fe8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StringTableEntry _StringTable::insertn </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">S32&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>caseSens</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a pointer from the string table, adding the string to the table if it was not already present.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td><a class="el" href="class_string.html" title="The String class represents a 0-terminated array of characters. ">String</a> to check in the table (and add). </td></tr>
    <tr><td class="paramname">len</td><td>Length of the string in bytes. </td></tr>
    <tr><td class="paramname">caseSens</td><td>Determines whether case matters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac8a9281e3f1d81500be1c6c3f09427ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StringTableEntry _StringTable::lookup </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>caseSens</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a pointer from the string table, NOT adding the string to the table if it was not already present.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td><a class="el" href="class_string.html" title="The String class represents a 0-terminated array of characters. ">String</a> to check in the table (but not add). </td></tr>
    <tr><td class="paramname">caseSens</td><td>Determines whether case matters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a42cab8aaa87e586387c99b27daff3f18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StringTableEntry _StringTable::lookupn </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">S32&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>caseSens</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a pointer from the string table, NOT adding the string to the table if it was not already present.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td><a class="el" href="class_string.html" title="The String class represents a 0-terminated array of characters. ">String</a> to check in the table (but not add). </td></tr>
    <tr><td class="paramname">len</td><td>Length of string in bytes. </td></tr>
    <tr><td class="paramname">caseSens</td><td>Determines whether case matters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a043299e8cf814d9f0f2b88fa9d964e2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _StringTable::resize </td>
          <td>(</td>
          <td class="paramtype">const U32&#160;</td>
          <td class="paramname"><em>newSize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resize the StringTable to be able to hold newSize items. This is called automatically by the StringTable when the table is full past a certain threshhold.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newSize</td><td>Number of new items to allocate space for. </td></tr>
  </table>
  </dd>
</dl>
<p>avoid a possible 0 division </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/projects/torque3d-qw64q/Engine/source/core/<a class="el" href="string_table_8h_source.html">stringTable.h</a></li>
<li>C:/projects/torque3d-qw64q/Engine/source/core/stringTable.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
