<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>GFXTransformSaver Class Reference</title>
<link href="torquedoc.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<table width="100%" class="header">
<tr>
<td style="background-image: url( 'images/t3d-documentation-header.png' ); height: 100px;">
   <!-- hack... makes the HTML Help compiler include the image into the project -->
   <img src="images/t3d-documentation-header.png" style="width: 0; height: 0; borders: 0;">
</td>
</tr>
<tr><td class="headermenu">
	<center>
	<a class="qindex" href="index.html">Main</a> &nbsp; 
	<a class="qindex" href="modules.html">Modules</a> &nbsp; 
	<a class="qindex" href="annotated.html">Class List</a> &nbsp; 
	<a class="qindex" href="namespaces.html">Namespace List</a>	&nbsp; 
	<a class="qindex" target="_blank" href="http://www.garagegames.com/documentation/torque-3d">Online</a>
	</center>
</td></tr>
</table>
<br>
<!-- END HEADER --><!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classGFXTransformSaver-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">GFXTransformSaver Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Helper class to store viewport and matrix stack state, and restore it later.  
 <a href="classGFXTransformSaver.html#details">More...</a></p>

<p><code>#include &lt;gfx/gfxTransformSaver.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2796e8cfa796679390c24e082c046e63"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGFXTransformSaver.html#a2796e8cfa796679390c24e082c046e63">GFXTransformSaver</a> (bool saveDataNow=true, bool restoreDataOnDestruct=true)</td></tr>
<tr class="memdesc:a2796e8cfa796679390c24e082c046e63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor - controls how data is saved.  <a href="#a2796e8cfa796679390c24e082c046e63">More...</a><br /></td></tr>
<tr class="separator:a2796e8cfa796679390c24e082c046e63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4b1d9a97dc2f4230b858d4a01bc39a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGFXTransformSaver.html#af4b1d9a97dc2f4230b858d4a01bc39a7">~GFXTransformSaver</a> ()</td></tr>
<tr class="separator:af4b1d9a97dc2f4230b858d4a01bc39a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a117ad4ca0572e8f61352624de714130d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classMatrixF.html">MatrixF</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGFXTransformSaver.html#a117ad4ca0572e8f61352624de714130d">getProjectionMatrix</a> () const </td></tr>
<tr class="memdesc:a117ad4ca0572e8f61352624de714130d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the saved projection matrix.  <a href="#a117ad4ca0572e8f61352624de714130d">More...</a><br /></td></tr>
<tr class="separator:a117ad4ca0572e8f61352624de714130d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68e20cdccd120c68770156543d4f991d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classMatrixF.html">MatrixF</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGFXTransformSaver.html#a68e20cdccd120c68770156543d4f991d">getViewMatrix</a> () const </td></tr>
<tr class="memdesc:a68e20cdccd120c68770156543d4f991d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the saved projection matrix.  <a href="#a68e20cdccd120c68770156543d4f991d">More...</a><br /></td></tr>
<tr class="separator:a68e20cdccd120c68770156543d4f991d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92d9f0d9830b0d10fb3f2481d22d0f41"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classRectI.html">RectI</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGFXTransformSaver.html#a92d9f0d9830b0d10fb3f2481d22d0f41">getViewport</a> () const </td></tr>
<tr class="memdesc:a92d9f0d9830b0d10fb3f2481d22d0f41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the saved viewport.  <a href="#a92d9f0d9830b0d10fb3f2481d22d0f41">More...</a><br /></td></tr>
<tr class="separator:a92d9f0d9830b0d10fb3f2481d22d0f41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c32595dc4891b4be68f2fc97f907651"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGFXTransformSaver.html#a6c32595dc4891b4be68f2fc97f907651">restore</a> ()</td></tr>
<tr class="separator:a6c32595dc4891b4be68f2fc97f907651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d9db8030ffc208d0cfa62209b15d249"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGFXTransformSaver.html#a7d9db8030ffc208d0cfa62209b15d249">save</a> ()</td></tr>
<tr class="separator:a7d9db8030ffc208d0cfa62209b15d249"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a732cbea96ed28ab5d3ff0016a7f06e6f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGFXTransformSaver.html#a732cbea96ed28ab5d3ff0016a7f06e6f">mHaveSavedData</a></td></tr>
<tr class="separator:a732cbea96ed28ab5d3ff0016a7f06e6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c771483fcfdb831e7aaf17f8ffee7ea"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGFXTransformSaver.html#a4c771483fcfdb831e7aaf17f8ffee7ea">mRestoreSavedDataOnDestruct</a></td></tr>
<tr class="separator:a4c771483fcfdb831e7aaf17f8ffee7ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71b9a54ee753ed5d4644893aa4513dec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMatrixF.html">MatrixF</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGFXTransformSaver.html#a71b9a54ee753ed5d4644893aa4513dec">mSavedProjectionMatrix</a></td></tr>
<tr class="separator:a71b9a54ee753ed5d4644893aa4513dec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a397e277afbe9a1f8b16c4a51f62a6634"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMatrixF.html">MatrixF</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGFXTransformSaver.html#a397e277afbe9a1f8b16c4a51f62a6634">mSavedViewMatrix</a></td></tr>
<tr class="separator:a397e277afbe9a1f8b16c4a51f62a6634"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad2b24f8015dc57ed53636f31b50ce45"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRectI.html">RectI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGFXTransformSaver.html#aad2b24f8015dc57ed53636f31b50ce45">mSavedViewport</a></td></tr>
<tr class="separator:aad2b24f8015dc57ed53636f31b50ce45"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Helper class to store viewport and matrix stack state, and restore it later. </p>
<p>When doing complex out-of-scene rendering, for instance, doing a render to texture operation that needs its own transform state, it is very easy to nuke important rendering state, like the viewport or the projection matrix stored in vertex shader constant zero.</p>
<p>This class simplifies save and cleanup of those properties. You can either treat it as a stack helper, e.g.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> myFunc()</div><div class="line">{</div><div class="line">   <a class="code" href="classGFXTransformSaver.html">GFXTransformSaver</a> saver;</div><div class="line"></div><div class="line">   <span class="comment">// Lots of nasty render state changes...</span></div><div class="line"></div><div class="line">   <span class="comment">// Everything is magically cleaned up when saver is destructed!</span></div><div class="line">}</div></div><!-- fragment --><p>Or you can manually control when you do saves or restores:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> myFunc()</div><div class="line">{</div><div class="line">   <a class="code" href="classGFXTransformSaver.html">GFXTransformSaver</a> saver(<span class="keyword">false</span>, <span class="keyword">false</span>);</div><div class="line"></div><div class="line">   <span class="keywordflow">if</span>(!somePrecondition)</div><div class="line">      <span class="keywordflow">return</span> <span class="keyword">false</span>;     <span class="comment">// Note early out.</span></div><div class="line"></div><div class="line">   saver.save();</div><div class="line"></div><div class="line">   <span class="comment">// Lots of nasty render state changes...</span></div><div class="line"></div><div class="line">   <span class="comment">// If we had passed (false, true) to the constructor then it would</span></div><div class="line">   <span class="comment">// clean up automagically for us; but we want to do it manually.</span></div><div class="line">   saver.restore();</div><div class="line">}</div></div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2796e8cfa796679390c24e082c046e63"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">GFXTransformSaver::GFXTransformSaver </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>saveDataNow</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>restoreDataOnDestruct</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor - controls how data is saved. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">saveDataNow</td><td>If true, indicates that saveData() should be called immediately. Otherwise, you can do it manually.</td></tr>
    <tr><td class="paramname">restoreDataOnDestruct</td><td>If true, indicates that restoreData() should be called on destruct. Otherwise, you'll have to do it manually. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="classGFXTransformSaver.html#a7d9db8030ffc208d0cfa62209b15d249">save()</a>.</p>

</div>
</div>
<a class="anchor" id="af4b1d9a97dc2f4230b858d4a01bc39a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">GFXTransformSaver::~GFXTransformSaver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="classGFXTransformSaver.html#a6c32595dc4891b4be68f2fc97f907651">restore()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a117ad4ca0572e8f61352624de714130d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classMatrixF.html">MatrixF</a>&amp; GFXTransformSaver::getProjectionMatrix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the saved projection matrix. </p>

<p>References <a class="el" href="classGFXTransformSaver.html#a71b9a54ee753ed5d4644893aa4513dec">mSavedProjectionMatrix</a>.</p>

</div>
</div>
<a class="anchor" id="a68e20cdccd120c68770156543d4f991d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classMatrixF.html">MatrixF</a>&amp; GFXTransformSaver::getViewMatrix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the saved projection matrix. </p>

<p>References <a class="el" href="classGFXTransformSaver.html#a397e277afbe9a1f8b16c4a51f62a6634">mSavedViewMatrix</a>.</p>

</div>
</div>
<a class="anchor" id="a92d9f0d9830b0d10fb3f2481d22d0f41"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classRectI.html">RectI</a>&amp; GFXTransformSaver::getViewport </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the saved viewport. </p>

<p>References <a class="el" href="classGFXTransformSaver.html#aad2b24f8015dc57ed53636f31b50ce45">mSavedViewport</a>.</p>

</div>
</div>
<a class="anchor" id="a6c32595dc4891b4be68f2fc97f907651"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GFXTransformSaver::restore </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="classGFXTransformSaver.html#af4b1d9a97dc2f4230b858d4a01bc39a7">~GFXTransformSaver()</a>.</p>

</div>
</div>
<a class="anchor" id="a7d9db8030ffc208d0cfa62209b15d249"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GFXTransformSaver::save </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="classGFXTransformSaver.html#a2796e8cfa796679390c24e082c046e63">GFXTransformSaver()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a732cbea96ed28ab5d3ff0016a7f06e6f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool GFXTransformSaver::mHaveSavedData</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4c771483fcfdb831e7aaf17f8ffee7ea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool GFXTransformSaver::mRestoreSavedDataOnDestruct</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a71b9a54ee753ed5d4644893aa4513dec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMatrixF.html">MatrixF</a> GFXTransformSaver::mSavedProjectionMatrix</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="classGFXTransformSaver.html#a117ad4ca0572e8f61352624de714130d">getProjectionMatrix()</a>.</p>

</div>
</div>
<a class="anchor" id="a397e277afbe9a1f8b16c4a51f62a6634"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMatrixF.html">MatrixF</a> GFXTransformSaver::mSavedViewMatrix</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="classGFXTransformSaver.html#a68e20cdccd120c68770156543d4f991d">getViewMatrix()</a>.</p>

</div>
</div>
<a class="anchor" id="aad2b24f8015dc57ed53636f31b50ce45"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRectI.html">RectI</a> GFXTransformSaver::mSavedViewport</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="classGFXTransformSaver.html#a92d9f0d9830b0d10fb3f2481d22d0f41">getViewport()</a>.</p>

</div>
</div>
</div><!-- contents -->

<!-- START FOOTER -->
<br>
<br>
<center>
	<div style="color: #777777;">
	Copyright &copy; <a style="color: #777777;" target="_blank" href="http://www.garagegames.com">GarageGames, LLC</a>. All Rights Reserved.
	</div>
</center>
</body>
</html>
