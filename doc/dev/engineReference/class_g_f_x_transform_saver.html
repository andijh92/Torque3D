<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Torque3D - Engine Reference: GFXTransformSaver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Torque3D - Engine Reference
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_g_f_x_transform_saver-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">GFXTransformSaver Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="gfx_transform_saver_8h_source.html">gfxTransformSaver.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for GFXTransformSaver:</div>
<div class="dyncontent">
<div class="center"><img src="class_g_f_x_transform_saver__coll__graph.png" border="0" usemap="#_g_f_x_transform_saver_coll__map" alt="Collaboration graph"/></div>
<map name="_g_f_x_transform_saver_coll__map" id="_g_f_x_transform_saver_coll__map">
<area shape="rect" id="node2" href="class_rect_i.html" title="RectI" alt="" coords="11,143,63,169"/>
<area shape="rect" id="node3" href="class_point2_i.html" title="Point2I" alt="" coords="5,21,68,48"/>
<area shape="rect" id="node4" href="class_matrix_f.html" title="MatrixF" alt="" coords="141,143,207,169"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2796e8cfa796679390c24e082c046e63"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_f_x_transform_saver.html#a2796e8cfa796679390c24e082c046e63">GFXTransformSaver</a> (bool saveDataNow=true, bool restoreDataOnDestruct=true)</td></tr>
<tr class="separator:a2796e8cfa796679390c24e082c046e63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d9db8030ffc208d0cfa62209b15d249"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7d9db8030ffc208d0cfa62209b15d249"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>save</b> ()</td></tr>
<tr class="separator:a7d9db8030ffc208d0cfa62209b15d249"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c32595dc4891b4be68f2fc97f907651"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6c32595dc4891b4be68f2fc97f907651"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>restore</b> ()</td></tr>
<tr class="separator:a6c32595dc4891b4be68f2fc97f907651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92d9f0d9830b0d10fb3f2481d22d0f41"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a92d9f0d9830b0d10fb3f2481d22d0f41"></a>
const <a class="el" href="class_rect_i.html">RectI</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_f_x_transform_saver.html#a92d9f0d9830b0d10fb3f2481d22d0f41">getViewport</a> () const </td></tr>
<tr class="memdesc:a92d9f0d9830b0d10fb3f2481d22d0f41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the saved viewport. <br /></td></tr>
<tr class="separator:a92d9f0d9830b0d10fb3f2481d22d0f41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a117ad4ca0572e8f61352624de714130d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a117ad4ca0572e8f61352624de714130d"></a>
const <a class="el" href="class_matrix_f.html">MatrixF</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_f_x_transform_saver.html#a117ad4ca0572e8f61352624de714130d">getProjectionMatrix</a> () const </td></tr>
<tr class="memdesc:a117ad4ca0572e8f61352624de714130d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the saved projection matrix. <br /></td></tr>
<tr class="separator:a117ad4ca0572e8f61352624de714130d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68e20cdccd120c68770156543d4f991d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a68e20cdccd120c68770156543d4f991d"></a>
const <a class="el" href="class_matrix_f.html">MatrixF</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_f_x_transform_saver.html#a68e20cdccd120c68770156543d4f991d">getViewMatrix</a> () const </td></tr>
<tr class="memdesc:a68e20cdccd120c68770156543d4f991d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the saved projection matrix. <br /></td></tr>
<tr class="separator:a68e20cdccd120c68770156543d4f991d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aad2b24f8015dc57ed53636f31b50ce45"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aad2b24f8015dc57ed53636f31b50ce45"></a>
<a class="el" href="class_rect_i.html">RectI</a>&#160;</td><td class="memItemRight" valign="bottom"><b>mSavedViewport</b></td></tr>
<tr class="separator:aad2b24f8015dc57ed53636f31b50ce45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71b9a54ee753ed5d4644893aa4513dec"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a71b9a54ee753ed5d4644893aa4513dec"></a>
<a class="el" href="class_matrix_f.html">MatrixF</a>&#160;</td><td class="memItemRight" valign="bottom"><b>mSavedProjectionMatrix</b></td></tr>
<tr class="separator:a71b9a54ee753ed5d4644893aa4513dec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a397e277afbe9a1f8b16c4a51f62a6634"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a397e277afbe9a1f8b16c4a51f62a6634"></a>
<a class="el" href="class_matrix_f.html">MatrixF</a>&#160;</td><td class="memItemRight" valign="bottom"><b>mSavedViewMatrix</b></td></tr>
<tr class="separator:a397e277afbe9a1f8b16c4a51f62a6634"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a732cbea96ed28ab5d3ff0016a7f06e6f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a732cbea96ed28ab5d3ff0016a7f06e6f"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>mHaveSavedData</b></td></tr>
<tr class="separator:a732cbea96ed28ab5d3ff0016a7f06e6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c771483fcfdb831e7aaf17f8ffee7ea"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4c771483fcfdb831e7aaf17f8ffee7ea"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>mRestoreSavedDataOnDestruct</b></td></tr>
<tr class="separator:a4c771483fcfdb831e7aaf17f8ffee7ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Helper class to store viewport and matrix stack state, and restore it later.</p>
<p>When doing complex out-of-scene rendering, for instance, doing a render to texture operation that needs its own transform state, it is very easy to nuke important rendering state, like the viewport or the projection matrix stored in vertex shader constant zero.</p>
<p>This class simplifies save and cleanup of those properties. You can either treat it as a stack helper, e.g.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> myFunc()</div><div class="line">{</div><div class="line">   <a class="code" href="class_g_f_x_transform_saver.html">GFXTransformSaver</a> saver;</div><div class="line"></div><div class="line">   <span class="comment">// Lots of nasty render state changes...</span></div><div class="line"></div><div class="line">   <span class="comment">// Everything is magically cleaned up when saver is destructed!</span></div><div class="line">}</div></div><!-- fragment --><p>Or you can manually control when you do saves or restores:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> myFunc()</div><div class="line">{</div><div class="line">   <a class="code" href="class_g_f_x_transform_saver.html">GFXTransformSaver</a> saver(<span class="keyword">false</span>, <span class="keyword">false</span>);</div><div class="line"></div><div class="line">   <span class="keywordflow">if</span>(!somePrecondition)</div><div class="line">      <span class="keywordflow">return</span> <span class="keyword">false</span>;     <span class="comment">// Note early out.</span></div><div class="line"></div><div class="line">   saver.save();</div><div class="line"></div><div class="line">   <span class="comment">// Lots of nasty render state changes...</span></div><div class="line"></div><div class="line">   <span class="comment">// If we had passed (false, true) to the constructor then it would</span></div><div class="line">   <span class="comment">// clean up automagically for us; but we want to do it manually.</span></div><div class="line">   saver.restore();</div><div class="line">}</div></div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2796e8cfa796679390c24e082c046e63"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">GFXTransformSaver::GFXTransformSaver </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>saveDataNow</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>restoreDataOnDestruct</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor - controls how data is saved.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">saveDataNow</td><td>If true, indicates that saveData() should be called immediately. Otherwise, you can do it manually.</td></tr>
    <tr><td class="paramname">restoreDataOnDestruct</td><td>If true, indicates that restoreData() should be called on destruct. Otherwise, you'll have to do it manually. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/projects/torque3d-qw64q/Engine/source/gfx/<a class="el" href="gfx_transform_saver_8h_source.html">gfxTransformSaver.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
